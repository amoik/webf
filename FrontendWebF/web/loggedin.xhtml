<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
    xmlns="http://www.w3.org/1999/xhtml"   
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:p="http://primefaces.org/ui">
    
    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Verwaltung</title>
            </f:facet>
        </h:head>

        <h:body>
            <h:form>
                <p:remoteCommand name="onload" actionListener="#{login.onload}" autoRun="true" />
            </h:form>
            <p:layout fullPage="true">
                <p:layoutUnit position="north" size="80">
                    <h:form>
                        <p:messages style="float:left" id="messages" showDetail="true" autoUpdate="true" />
                        <p:commandButton style="float:right" value="Logout" icon="ui-icon-logout" actionListener='#{login.logout()}' action="index.xhtml?faces-redirect=true" />
                    </h:form>
                </p:layoutUnit>

                <p:layoutUnit position="west" size="250" header="Verwaltung" collapsible="true">
                    <h:form>
                        <p:menu>
                            <p:menuitem value="Personen" icon="ui-icon-person" url="persons.xhtml" rendered='#{login.accountType == "ADMIN"}'/>
                            <p:menuitem value="Studenten" icon="ui-icon-check" url="students.xhtml"/>
                            <p:menuitem value="Rollen" icon="ui-icon-document" url="roles.xhtml" rendered='#{login.accountType == "ADMIN"}'/>
                            <p:menuitem value="Kurse" icon="ui-icon-search" url="courses.xhtml"/>
                            <p:menuitem value="Kalender" icon="ui-icon-calendar" url="calendar.xhtml"/>
                            <p:menuitem value="Einstellungen" icon="ui-icon-wrench" url="settings.xhtml" rendered='#{login.accountType == "ADMIN"}'/>

                        </p:menu>
                    </h:form>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                    <p:panel id="includeForm">
                        <ui:include src='#{login.includedPage}' />
                    </p:panel>
                </p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>
